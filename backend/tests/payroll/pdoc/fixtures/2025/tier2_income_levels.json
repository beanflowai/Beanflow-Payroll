{
  "tier": 2,
  "name": "Income Level Coverage",
  "description": "Low and high income tests for provinces with special rules",
  "version": "2025-07",
  "collected_date": "2025-12-29",
  "pdoc_version": "T4127 - Version 2025-12-08",
  "tolerance": "0.05",

  "test_cases": [
    {
      "id": "ON_30K_BIWEEKLY",
      "tier": 2,
      "description": "Ontario low income $30k - below health premium threshold",
      "status": "VERIFIED",
      "category": "low_income",
      "special_rules": ["Below health premium threshold"],
      "input": {
        "province": "ON",
        "gross_pay": "1153.85",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "60.64",
        "cpp_enhancement_f2": "10.19",
        "cpp2": "0.00",
        "ei": "18.92",
        "federal_tax": "55.63",
        "provincial_tax": "41.03",
        "total_deductions": "176.22",
        "net_pay": "977.63"
      },
      "notes": "PDOC verified 2025-12-29 - Below health premium threshold"
    },
    {
      "id": "BC_30K_BIWEEKLY",
      "tier": 2,
      "description": "BC low income $30k - tax reduction (Factor S) active",
      "status": "VERIFIED",
      "category": "low_income",
      "special_rules": ["Tax reduction active"],
      "input": {
        "province": "BC",
        "gross_pay": "1153.85",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12932.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "60.64",
        "cpp_enhancement_f2": "10.19",
        "cpp2": "0.00",
        "ei": "18.92",
        "federal_tax": "55.63",
        "provincial_tax": "14.03",
        "total_deductions": "149.22",
        "net_pay": "1004.63"
      },
      "notes": "PDOC verified 2025-12-29 - Tests BC tax reduction for low income"
    },
    {
      "id": "MB_30K_BIWEEKLY",
      "tier": 2,
      "description": "Manitoba low income $30k - full dynamic BPA benefit",
      "status": "VERIFIED",
      "category": "low_income",
      "special_rules": ["Full dynamic BPA"],
      "input": {
        "province": "MB",
        "gross_pay": "1153.85",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "15591.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "60.64",
        "cpp_enhancement_f2": "10.19",
        "cpp2": "0.00",
        "ei": "18.92",
        "federal_tax": "55.63",
        "provincial_tax": "51.26",
        "total_deductions": "186.45",
        "net_pay": "967.40"
      },
      "notes": "PDOC verified 2025-12-29 - Dynamic BPA calculated by PDOC (15,591 vs 15,780)"
    },
    {
      "id": "NS_30K_BIWEEKLY",
      "tier": 2,
      "description": "Nova Scotia low income $30k - higher BPA tier",
      "status": "VERIFIED",
      "category": "low_income",
      "special_rules": ["Higher BPA tier"],
      "input": {
        "province": "NS",
        "gross_pay": "1153.85",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "11744.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "60.64",
        "cpp_enhancement_f2": "10.19",
        "cpp2": "0.00",
        "ei": "18.92",
        "federal_tax": "55.63",
        "provincial_tax": "54.73",
        "total_deductions": "189.92",
        "net_pay": "963.93"
      },
      "notes": "PDOC verified 2025-12-29 - Higher BPA tier for low income"
    },
    {
      "id": "ON_120K_MONTHLY",
      "tier": 2,
      "description": "Ontario high income $120k - full surtax, health premium",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Full surtax", "Health premium"],
      "input": {
        "province": "ON",
        "gross_pay": "10000.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "577.65",
        "cpp_enhancement_f2": "97.08",
        "cpp2": "0.00",
        "ei": "164.00",
        "federal_tax": "1480.95",
        "provincial_tax": "801.17",
        "total_deductions": "3023.77",
        "net_pay": "6976.23"
      },
      "notes": "PDOC verified 2025-12-29 - Tests Ontario surtax and health premium"
    },
    {
      "id": "AB_120K_MONTHLY",
      "tier": 2,
      "description": "Alberta high income $120k - flat rate, CPP2 range",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Flat 10% rate", "CPP2 applicable"],
      "input": {
        "province": "AB",
        "gross_pay": "10000.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "22323.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "577.65",
        "cpp_enhancement_f2": "97.08",
        "cpp2": "0.00",
        "ei": "164.00",
        "federal_tax": "1480.95",
        "provincial_tax": "656.51",
        "total_deductions": "2879.11",
        "net_pay": "7120.89"
      },
      "notes": "PDOC verified 2025-12-29 - Tests Alberta flat rate at high income"
    },
    {
      "id": "BC_120K_MONTHLY",
      "tier": 2,
      "description": "BC high income $120k - no tax reduction",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["No tax reduction at this income"],
      "input": {
        "province": "BC",
        "gross_pay": "10000.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12932.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "577.65",
        "cpp_enhancement_f2": "97.08",
        "cpp2": "0.00",
        "ei": "164.00",
        "federal_tax": "1480.95",
        "provincial_tax": "636.68",
        "total_deductions": "2859.28",
        "net_pay": "7140.72"
      },
      "notes": "PDOC verified 2025-12-29 - BC at high income (no tax reduction)"
    },
    {
      "id": "MB_120K_MONTHLY",
      "tier": 2,
      "description": "Manitoba high income $120k - reduced dynamic BPA",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Reduced dynamic BPA"],
      "input": {
        "province": "MB",
        "gross_pay": "10000.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "15591.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "577.65",
        "cpp_enhancement_f2": "97.08",
        "cpp2": "0.00",
        "ei": "164.00",
        "federal_tax": "1480.95",
        "provincial_tax": "1084.47",
        "total_deductions": "3307.07",
        "net_pay": "6692.93"
      },
      "notes": "PDOC verified 2025-12-29 - Reduced dynamic BPA at high income"
    },
    {
      "id": "ON_150K_MONTHLY",
      "tier": 2,
      "description": "Ontario very high income $150k - maximum surtax bracket",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Maximum surtax bracket"],
      "input": {
        "province": "ON",
        "gross_pay": "12500.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "726.40",
        "cpp_enhancement_f2": "122.08",
        "cpp2": "0.00",
        "ei": "205.00",
        "federal_tax": "2124.45",
        "provincial_tax": "1232.06",
        "total_deductions": "4287.91",
        "net_pay": "8212.09"
      },
      "notes": "PDOC verified 2025-12-29 - Maximum surtax bracket"
    },
    {
      "id": "NS_120K_MONTHLY",
      "tier": 2,
      "description": "Nova Scotia high income $120k - lower BPA tier, surtax",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Lower BPA tier", "Surtax"],
      "input": {
        "province": "NS",
        "gross_pay": "10000.00",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "11744.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "577.65",
        "cpp_enhancement_f2": "97.08",
        "cpp2": "0.00",
        "ei": "164.00",
        "federal_tax": "1480.95",
        "provincial_tax": "1304.09",
        "total_deductions": "3526.69",
        "net_pay": "6473.31"
      },
      "notes": "PDOC verified 2025-12-29 - Lower BPA tier at high income, surtax"
    },
    {
      "id": "ON_200K_MONTHLY",
      "tier": 2,
      "description": "Ontario top bracket $200k - top tax bracket",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Top tax bracket"],
      "input": {
        "province": "ON",
        "gross_pay": "16666.67",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "974.31",
        "cpp_enhancement_f2": "163.75",
        "cpp2": "0.00",
        "ei": "273.33",
        "federal_tax": "3247.37",
        "provincial_tax": "2012.65",
        "total_deductions": "6507.66",
        "net_pay": "10159.01"
      },
      "notes": "PDOC verified 2025-12-29 - Top federal and provincial tax brackets"
    },
    {
      "id": "AB_200K_MONTHLY",
      "tier": 2,
      "description": "Alberta top bracket $200k - flat rate comparison",
      "status": "VERIFIED",
      "category": "high_income",
      "special_rules": ["Flat rate at top income"],
      "input": {
        "province": "AB",
        "gross_pay": "16666.67",
        "pay_frequency": "monthly",
        "pay_periods": 12,
        "pay_date": "2025-07-18",
        "federal_claim": "16129.00",
        "provincial_claim": "22323.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "974.31",
        "cpp_enhancement_f2": "163.75",
        "cpp2": "0.00",
        "ei": "273.33",
        "federal_tax": "3247.37",
        "provincial_tax": "1408.35",
        "total_deductions": "5903.36",
        "net_pay": "10763.31"
      },
      "notes": "PDOC verified 2025-12-29 - Alberta flat rate at top income"
    }
  ]
}
