{
  "tier": 4,
  "name": "Special Conditions - Jan Edition",
  "description": "Tests for RRSP, union dues, exemptions, and taxable benefits (15% federal rate)",
  "version": "2025-01",
  "collected_date": "2025-12-30",
  "pdoc_version": "T4127 - Version 2025-12-08",
  "tolerance": "0.05",
  "notes": "Jan edition: All cases use 15% federal rate. CPP/EI unchanged, federal tax needs PDOC verification.",

  "test_cases": [
    {
      "id": "ON_60K_RRSP",
      "tier": 4,
      "description": "Ontario $60k with RRSP $500/period - tax reduction from RRSP",
      "status": "TO_BE_VERIFIED",
      "category": "rrsp",
      "special_rules": ["RRSP tax deduction"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "500.00",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "129.30",
        "cpp2": "0.00",
        "ei": "37.85",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "75.40",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "ON_60K_UNION",
      "tier": 4,
      "description": "Ontario $60k with union dues $50/period - tax credit",
      "status": "TO_BE_VERIFIED",
      "category": "union_dues",
      "special_rules": ["Union dues tax credit"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "50.00",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "129.30",
        "cpp2": "0.00",
        "ei": "37.85",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "112.18",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "AB_80K_RRSP",
      "tier": 4,
      "description": "Alberta $80k with RRSP $1000/period - high RRSP deduction",
      "status": "TO_BE_VERIFIED",
      "category": "rrsp",
      "special_rules": ["High RRSP", "Alberta flat rate"],
      "input": {
        "province": "AB",
        "gross_pay": "3076.92",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "22323.00",
        "rrsp": "1000.00",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "175.07",
        "cpp2": "0.00",
        "ei": "50.46",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "61.10",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "ON_60K_CPP_EXEMPT",
      "tier": 4,
      "description": "Ontario $60k CPP exempt - no CPP contribution",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["CPP exempt"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "cpp_exempt": true,
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "0.00",
        "cpp2": "0.00",
        "ei": "37.85",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "124.18",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "ON_60K_EI_EXEMPT",
      "tier": 4,
      "description": "Ontario $60k EI exempt - no EI contribution",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["EI exempt"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "ei_exempt": true,
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "129.30",
        "cpp2": "0.00",
        "ei": "0.00",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "118.67",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "ON_100K_CPP2_EXEMPT",
      "tier": 4,
      "description": "Ontario $100k CPP2 exempt - no additional CPP",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["CPP2 exempt only"],
      "input": {
        "province": "ON",
        "gross_pay": "3846.15",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "cpp2_exempt": true,
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "220.84",
        "cpp2": "0.00",
        "ei": "63.08",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "263.05",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "ON_60K_BENEFITS",
      "tier": 4,
      "description": "Ontario $60k with taxable benefits $100 - benefits taxability",
      "status": "TO_BE_VERIFIED",
      "category": "benefits",
      "special_rules": ["Taxable benefits"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12747.00",
        "rrsp": "0",
        "union_dues": "0",
        "taxable_benefits": "100.00",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "135.25",
        "cpp2": "0.00",
        "ei": "39.49",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "125.48",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    },
    {
      "id": "BC_40K_BENEFITS",
      "tier": 4,
      "description": "BC $40k with taxable benefits + low income - combined with tax reduction",
      "status": "TO_BE_VERIFIED",
      "category": "benefits",
      "special_rules": ["Taxable benefits", "BC tax reduction interaction"],
      "input": {
        "province": "BC",
        "gross_pay": "1538.46",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2025-01-17",
        "federal_claim": "16129.00",
        "provincial_claim": "12932.00",
        "rrsp": "0",
        "union_dues": "0",
        "taxable_benefits": "100.00",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "89.48",
        "cpp2": "0.00",
        "ei": "26.87",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "51.85",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "Federal tax needs PDOC verification for 15% rate"
    }
  ]
}
