{
  "tier": 3,
  "name": "CPP/EI Boundary Conditions - 2026 Jan Edition",
  "description": "Tests for CPP/EI boundary conditions: YMPE, YAMPE, MIE, exemptions",
  "version": "2026-01",
  "collected_date": "2025-12-30",
  "pdoc_version": "T4127 - 122nd Edition (January 2026)",
  "tolerance": "0.05",
  "notes": "2026: CPP YMPE $74,600, YAMPE $85,000, basic exemption $3,500, rate 5.95%. EI MIE $68,900, rate 1.63%.",

  "test_cases": [
    {
      "id": "BELOW_CPP_EXEMPTION",
      "tier": 3,
      "description": "Income below CPP basic exemption - no CPP deduction",
      "status": "TO_BE_VERIFIED",
      "category": "cpp_boundary",
      "special_rules": ["Below basic exemption"],
      "input": {
        "province": "ON",
        "gross_pay": "100.00",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "0.00",
        "cpp_enhancement_f2": "0.00",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: $100/biweekly = $2,600 annual < $3,500 exemption"
    },
    {
      "id": "AT_YMPE_BOUNDARY",
      "tier": 3,
      "description": "Income at YMPE boundary - full CPP, no CPP2",
      "status": "TO_BE_VERIFIED",
      "category": "cpp_boundary",
      "special_rules": ["At YMPE boundary"],
      "input": {
        "province": "ON",
        "gross_pay": "2869.23",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: $74,600 YMPE / 26 = $2,869.23. No CPP2 expected."
    },
    {
      "id": "ABOVE_YMPE_CPP2",
      "tier": 3,
      "description": "Income above YMPE but below YAMPE - CPP2 kicks in",
      "status": "TO_BE_VERIFIED",
      "category": "cpp_boundary",
      "special_rules": ["CPP2 active"],
      "input": {
        "province": "ON",
        "gross_pay": "3076.92",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "TO_BE_VERIFIED",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: $80,000 annual > YMPE $74,600. CPP2 applies on earnings between YMPE and YAMPE."
    },
    {
      "id": "AT_YAMPE_BOUNDARY",
      "tier": 3,
      "description": "Income at YAMPE boundary - max CPP + CPP2",
      "status": "TO_BE_VERIFIED",
      "category": "cpp_boundary",
      "special_rules": ["At YAMPE boundary"],
      "input": {
        "province": "ON",
        "gross_pay": "3269.23",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "TO_BE_VERIFIED",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: $85,000 YAMPE / 26 = $3,269.23. Maximum CPP + CPP2."
    },
    {
      "id": "AT_EI_MIE",
      "tier": 3,
      "description": "Income at EI MIE boundary - approaching max EI",
      "status": "TO_BE_VERIFIED",
      "category": "ei_boundary",
      "special_rules": ["At MIE boundary"],
      "input": {
        "province": "ON",
        "gross_pay": "2650.00",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0"
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: $68,900 MIE / 26 = $2,650. At EI maximum boundary."
    },
    {
      "id": "CPP_EXEMPT",
      "tier": 3,
      "description": "CPP exempt employee - no CPP deduction",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["CPP exempt"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0",
        "cpp_exempt": true
      },
      "pdoc_expected": {
        "cpp_total": "0.00",
        "cpp_enhancement_f2": "0.00",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: CPP exempt employee - no CPP deductions"
    },
    {
      "id": "EI_EXEMPT",
      "tier": 3,
      "description": "EI exempt employee - no EI deduction",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["EI exempt"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0",
        "ei_exempt": true
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "0.00",
        "ei": "0.00",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: EI exempt employee - no EI deductions"
    },
    {
      "id": "CPP2_EXEMPT_HIGH_INCOME",
      "tier": 3,
      "description": "CPP2 exempt high income - CPP but no CPP2",
      "status": "TO_BE_VERIFIED",
      "category": "exemption",
      "special_rules": ["CPP2 exempt", "High income"],
      "input": {
        "province": "ON",
        "gross_pay": "3500.00",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-01-16",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "0",
        "ytd_pensionable_earnings": "0",
        "ytd_insurable_earnings": "0",
        "ytd_cpp_base": "0",
        "ytd_cpp_additional": "0",
        "ytd_ei": "0",
        "cpp2_exempt": true
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: CPP2 exempt employee - regular CPP but no CPP2"
    },
    {
      "id": "YTD_NEAR_CPP_MAX",
      "tier": 3,
      "description": "YTD near CPP max - partial CPP deduction",
      "status": "TO_BE_VERIFIED",
      "category": "ytd_boundary",
      "special_rules": ["YTD near max"],
      "input": {
        "province": "ON",
        "gross_pay": "2307.69",
        "pay_frequency": "biweekly",
        "pay_periods": 26,
        "pay_date": "2026-11-27",
        "federal_claim": "16452.00",
        "provincial_claim": "12989.00",
        "rrsp": "0",
        "union_dues": "0",
        "ytd_gross": "55384.56",
        "ytd_pensionable_earnings": "55384.56",
        "ytd_insurable_earnings": "55384.56",
        "ytd_cpp_base": "4100.00",
        "ytd_cpp_additional": "0",
        "ytd_ei": "900.00"
      },
      "pdoc_expected": {
        "cpp_total": "TO_BE_VERIFIED",
        "cpp_enhancement_f2": "TO_BE_VERIFIED",
        "cpp2": "0.00",
        "ei": "TO_BE_VERIFIED",
        "federal_tax": "TO_BE_VERIFIED",
        "provincial_tax": "TO_BE_VERIFIED",
        "total_deductions": "TO_BE_VERIFIED",
        "net_pay": "TO_BE_VERIFIED"
      },
      "notes": "2026: YTD CPP base near max $4,230.45. Partial deduction expected."
    }
  ]
}
